# **ðŸ“Š AI Data Visualization Assistant**

This project provides an AI-powered data visualization assistant built with Streamlit, Together AI's LLM, and the E2B Code Interpreter. It allows users to upload a CSV dataset, ask questions about it, and receive insightful visualizations and textual responses generated by the AI.

## **Features**

* **CSV Upload:** Easily upload your CSV datasets.  
* **AI-Powered Analysis:** Leverage a Large Language Model (LLM) from Together AI to understand your data queries.  
* **Code Execution:** Securely execute Python code in an E2B sandbox for data manipulation and visualization.  
* **Interactive Visualizations:** Get various types of plots (Matplotlib, Plotly, etc.) and dataframes displayed directly in the Streamlit app.  
* **Model Selection:** Choose from different Together AI LLM models.

## **How it Works**

1. **User Uploads Data:** A CSV file is uploaded through the Streamlit interface.  
2. **Dataset Transmission:** The uploaded dataset is securely transmitted to the E2B Code Interpreter sandbox.  
3. **User Query:** The user inputs a natural language query about their data.  
4. **LLM Interaction:** The user's query and the dataset path are sent to the Together AI LLM.  
5. **Code Generation:** The LLM analyzes the query and generates Python code to address it (e.g., for data analysis, plotting).  
6. **Code Execution:** The generated Python code is executed within the isolated E2B Code Interpreter sandbox.  
7. **Result Display:** Any outputs from the code execution, including visualizations (PNGs, Matplotlib figures, Plotly figures) and dataframes, are returned to the Streamlit app and displayed to the user along with the LLM's textual response.

## **Setup**

### **Prerequisites**

* Python 3.8+  
* pip package manager

### **API Keys**

You will need API keys for:

* **Together AI:** For accessing their large language models.  
* **E2B Code Interpreter:** For running Python code in a secure sandbox environment.

### **Installation**

1. **Clone the repository:**  
   git clone \<repository\_url\>  
   cd \<repository\_name\>

2. **Create a virtual environment (recommended):**  
   python \-m venv venv  
   source venv/bin/activate  \# On Windows, use \`venv\\Scripts\\activate\`

3. **Install the dependencies:**  
   pip install \-r requirements.txt

   (Note: You'll need to create a requirements.txt file based on the import statements in 3\_Data\_Visualization\_Assistant.py. A suggested requirements.txt is provided below.)

### **Suggested requirements.txt**

streamlit  
pandas  
Pillow  
together  
e2b-code-interpreter  
matplotlib  
plotly

## **Usage**

1. **Run the Streamlit application:**  
   streamlit run 3\_Data\_Visualization\_Assistant.py

2. Access the application:  
   Open your web browser and navigate to the URL provided by Streamlit (usually http://localhost:8501).  
3. Configure API Keys:  
   In the sidebar of the Streamlit application, enter your Together AI API key and E2B API key. You can also select your preferred LLM model.  
4. Upload Dataset:  
   Click on "Choose a CSV file" to upload your dataset.  
5. Ask Questions:  
   Enter your questions about the dataset in the text area and click "Analyze".  
6. View Results:  
   The AI's textual response and any generated visualizations or dataframes will be displayed in the main area of the application.

## **Code Structure**

* 3\_Data\_Visualization\_Assistant.py: The main Streamlit application script containing all the logic for UI, API interactions, and code interpretation.

## **Development Notes**

* The code\_interpret function handles the execution of Python code within the E2B sandbox, capturing stdout and stderr.  
* The chat\_with\_llm function communicates with the Together AI LLM, sending the user's query and the dataset path, and then extracts any Python code blocks from the LLM's response.  
* The upload\_dataset function handles transferring the uploaded CSV file to the E2B sandbox.  
* The main function sets up the Streamlit UI, manages session state, and orchestrates the interactions between the user, LLM, and code interpreter.

## **Troubleshooting**

* **API Key Errors:** Ensure you have correctly entered both your Together AI and E2B API keys in the sidebar.  
* **Code Interpreter Errors:** Check the "Code Interpreter Warnings/Errors" output in your Streamlit console for issues during code execution.  
* **No Code Generated:** If the LLM fails to generate Python code, it might indicate an ambiguous query or a limitation of the chosen model. Try rephrasing your question.  
* **Visualization Issues:** Ensure that the necessary libraries (e.g., matplotlib, plotly) are installed and that the generated code produces valid visualization objects.

## **Contributing**

Contributions are welcome\! Please feel free to open issues or submit pull requests.

## **License**

This project is open-sourced under the MIT License.